Version 4
SHEET 1 2784 1248
WIRE 896 -256 784 -256
WIRE 896 -224 896 -256
WIRE 784 -192 784 -256
WIRE 1232 -112 1232 -144
WIRE 896 -96 896 -144
WIRE 1200 -96 896 -96
WIRE 1360 -80 1264 -80
WIRE 1424 -80 1360 -80
WIRE 1200 -64 1184 -64
WIRE 1424 -64 1424 -80
WIRE 896 -32 896 -96
WIRE 1072 32 1040 32
WIRE 1184 32 1184 -64
WIRE 1184 32 1152 32
WIRE 1200 32 1184 32
WIRE 1360 32 1360 -80
WIRE 1360 32 1280 32
WIRE 1424 64 1424 16
WIRE 224 128 -64 128
WIRE 896 128 896 48
WIRE 896 128 320 128
WIRE 944 128 896 128
WIRE 1040 128 1040 32
WIRE 1040 128 1024 128
WIRE 1504 128 1040 128
WIRE 1984 128 1504 128
WIRE 896 160 896 128
WIRE 304 208 304 176
WIRE 304 208 240 208
WIRE 240 240 240 208
WIRE 304 240 304 208
WIRE 1168 240 1072 240
WIRE 1504 240 1504 128
WIRE 896 256 896 240
WIRE 896 256 720 256
WIRE 896 272 896 256
WIRE 1040 288 1040 128
WIRE 1072 288 1072 240
WIRE 1504 336 1504 320
WIRE 1504 336 1456 336
WIRE 1984 352 1984 128
WIRE -64 368 -64 128
WIRE 896 368 896 352
WIRE 1504 368 1504 336
WIRE 768 448 672 448
WIRE 832 448 768 448
WIRE 1056 448 1056 352
WIRE 1056 448 912 448
WIRE 1168 448 1168 240
WIRE 1168 448 1056 448
WIRE 304 464 304 304
WIRE 608 464 304 464
WIRE 720 480 720 256
WIRE 720 480 672 480
WIRE 1504 480 1504 448
WIRE 768 528 768 448
WIRE 832 528 768 528
WIRE 992 528 912 528
WIRE 1456 528 1456 336
WIRE 1456 528 1424 528
WIRE 1360 544 1168 544
WIRE 1488 560 1424 560
WIRE 1632 560 1568 560
WIRE 240 592 240 304
WIRE 1168 592 1168 544
WIRE 1168 592 240 592
WIRE -64 720 -64 448
WIRE 768 720 -64 720
WIRE 1984 720 1984 432
WIRE 1984 720 768 720
WIRE 768 752 768 720
FLAG 2608 624 ISET
FLAG 2720 624 +5V
FLAG 2608 704 0
FLAG 2720 704 0
FLAG 768 752 0
FLAG 992 528 ISET
FLAG 896 368 0
FLAG 1024 320 0
FLAG 640 432 0
FLAG 784 -192 0
FLAG 1424 64 0
FLAG 1232 -144 0
FLAG 1392 576 0
FLAG 2512 704 0
FLAG 2512 624 VSET
FLAG 1632 560 VSET
FLAG 1504 480 0
FLAG 1424 -80 ADC_I
FLAG 1456 336 ADC_V
FLAG -64 128 +12V
FLAG 1392 512 +12V
FLAG 640 496 +12V
FLAG 1088 320 +12V
FLAG 1232 -48 +12V
SYMBOL nmos 224 176 R270
SYMATTR InstName M1
SYMATTR Value IRF530
SYMBOL res 1040 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL res 1968 336 R0
SYMATTR InstName R4
SYMATTR Value 1
SYMBOL voltage -64 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12V
SYMBOL voltage 2608 608 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 1
SYMBOL voltage 2720 608 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res 928 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10K
SYMBOL res 928 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 50K
SYMBOL res 880 144 R0
SYMATTR InstName R7
SYMATTR Value 10K
SYMBOL res 880 256 R0
SYMATTR InstName R8
SYMATTR Value 50K
SYMBOL res 880 -48 R0
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL res 880 -240 R0
SYMATTR InstName R6
SYMATTR Value 50K
SYMBOL res 1168 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10K
SYMBOL res 1296 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 50K
SYMBOL res 1408 -80 R0
SYMATTR InstName R11
SYMATTR Value 10K
SYMBOL voltage 2512 608 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 1
SYMBOL diode 288 240 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 1488 224 R0
SYMATTR InstName R16
SYMATTR Value 20K
SYMBOL res 1488 352 R0
SYMATTR InstName R17
SYMATTR Value 10K
SYMBOL diode 224 240 R0
WINDOW 3 -70 62 Left 2
SYMATTR Value 1N4148
SYMATTR InstName D2
SYMBOL Opamps\\AD8657 1392 480 M0
SYMATTR InstName U4
SYMBOL Opamps\\AD8657 640 528 R180
SYMATTR InstName U2
SYMBOL Opamps\\AD8657 1120 320 R90
SYMATTR InstName U1
SYMBOL Opamps\\AD8657 1232 -16 M180
SYMATTR InstName U3
SYMBOL res 1584 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10K
TEXT -96 728 Left 2 !.dc V4 0.1 3 0.1
